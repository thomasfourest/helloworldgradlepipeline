Démarré par l'utilisateur Thomas FOUREST
Obtained Jenkinsfile from git git://github.com/thomasfourest/helloworldgradlepipeline.git
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] node
Running on SandboxNode in /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Fetching changes from the remote Git repository
Checking out Revision 5db822296c17fc163dbbacfcf0dc05bc857daf8e (refs/remotes/origin/master)
Commit message: "debug gradle build jenkinsfile with info"
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Tool Install)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Build and deploy)
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] tool
[Pipeline] envVarsForTool
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
 > git rev-parse --is-inside-work-tree # timeout=10
 > git config remote.origin.url git://github.com/thomasfourest/helloworldgradlepipeline.git # timeout=10
Fetching upstream changes from git://github.com/thomasfourest/helloworldgradlepipeline.git
 > git --version # timeout=10
 > git fetch --tags --progress git://github.com/thomasfourest/helloworldgradlepipeline.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 5db822296c17fc163dbbacfcf0dc05bc857daf8e
 > git rev-list --no-walk c5cdf8e813ae464ebee84d5fd568409ae10f9f08 # timeout=10
+ ls -al
total 88
drwxr-xr-x  7 jenkins jenkins  4096 13 mai   10:54 .
drwxr-xr-x  4 jenkins jenkins  4096 13 mai   10:25 ..
drwxr-xr-x 10 jenkins jenkins  4096 13 mai   10:25 build
-rw-r--r--  1 jenkins jenkins  3628 13 mai   10:25 build.gradle
-rw-r--r--  1 jenkins jenkins   313 13 mai   10:25 C:\tmp\log4j-application.log
drwxr-xr-x  8 jenkins jenkins  4096 13 mai   10:54 .git
-rw-r--r--  1 jenkins jenkins   103 13 mai   10:25 .gitignore
drwxr-xr-x  3 jenkins jenkins  4096 13 mai   10:25 gradle
drwxr-xr-x  5 jenkins jenkins  4096 13 mai   10:25 .gradle
-rw-r--r--  1 jenkins jenkins    69 13 mai   10:25 gradle.properties
-rw-r--r--  1 jenkins jenkins 16982 13 mai   10:25 gradle.uploadArchives.bash
-rw-r--r--  1 jenkins jenkins  5916 13 mai   10:25 gradlew
-rw-r--r--  1 jenkins jenkins  2841 13 mai   10:25 gradlew.bat
-rw-r--r--  1 jenkins jenkins   742 13 mai   10:54 Jenkinsfile
-rw-r--r--  1 jenkins jenkins    26 13 mai   10:25 README.md
-rw-r--r--  1 jenkins jenkins   375 13 mai   10:25 settings.gradle
drwxr-xr-x  4 jenkins jenkins  4096 13 mai   10:25 src
[Pipeline] echo
JAVA_HOME = /ssdprod/jenkins/sandboxNode/home/tools/hudson.model.JDK/jdk1.8.0_u144
[Pipeline] sh
+ ls -al
total 88
drwxr-xr-x  7 jenkins jenkins  4096 13 mai   10:54 .
drwxr-xr-x  4 jenkins jenkins  4096 13 mai   10:25 ..
drwxr-xr-x 10 jenkins jenkins  4096 13 mai   10:25 build
-rw-r--r--  1 jenkins jenkins  3628 13 mai   10:25 build.gradle
-rw-r--r--  1 jenkins jenkins   313 13 mai   10:25 C:\tmp\log4j-application.log
drwxr-xr-x  8 jenkins jenkins  4096 13 mai   10:54 .git
-rw-r--r--  1 jenkins jenkins   103 13 mai   10:25 .gitignore
drwxr-xr-x  3 jenkins jenkins  4096 13 mai   10:25 gradle
drwxr-xr-x  5 jenkins jenkins  4096 13 mai   10:25 .gradle
-rw-r--r--  1 jenkins jenkins    69 13 mai   10:25 gradle.properties
-rw-r--r--  1 jenkins jenkins 16982 13 mai   10:25 gradle.uploadArchives.bash
-rw-r--r--  1 jenkins jenkins  5916 13 mai   10:25 gradlew
-rw-r--r--  1 jenkins jenkins  2841 13 mai   10:25 gradlew.bat
-rw-r--r--  1 jenkins jenkins   742 13 mai   10:54 Jenkinsfile
-rw-r--r--  1 jenkins jenkins    26 13 mai   10:25 README.md
-rw-r--r--  1 jenkins jenkins   375 13 mai   10:25 settings.gradle
drwxr-xr-x  4 jenkins jenkins  4096 13 mai   10:25 src
[Pipeline] sh
+ gradle --version

------------------------------------------------------------
Gradle 5.3.1
------------------------------------------------------------

Build time:   2019-03-28 09:09:23 UTC
Revision:     f2fae6ba563cfb772c8bc35d31e43c59a5b620c3

Kotlin:       1.3.21
Groovy:       2.5.4
Ant:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018
JVM:          1.8.0_144 (Oracle Corporation 25.144-b01)
OS:           Linux 3.8.13-118.17.4.el6uek.x86_64 amd64

[Pipeline] sh
+ gradle clean build --info
Initialized native services in: /var/lib/jenkins/.gradle/native
Removing 0 daemon stop events from registry
Starting a Gradle Daemon (subsequent builds will be faster)
Starting process 'Gradle build daemon'. Working directory: /var/lib/jenkins/.gradle/daemon/5.3.1 Command: /ssdprod/jenkins/sandboxNode/home/tools/hudson.model.JDK/jdk1.8.0_u144/bin/java -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -Xms256m -Xmx512m -Dfile.encoding=UTF-8 -Duser.country=FR -Duser.language=fr -Duser.variant -cp /ssdprod/jenkins/sandboxNode/home/tools/hudson.plugins.gradle.GradleInstallation/gradle_5.3.1/lib/gradle-launcher-5.3.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 5.3.1
Successfully started process 'Gradle build daemon'
An attempt to start the daemon took 1.489 secs.
The client will now receive all logging from the daemon (pid: 27120). The daemon log file: /var/lib/jenkins/.gradle/daemon/5.3.1/daemon-27120.out.log
Starting build in new daemon [memory: 477,6 MB]
Closing daemon's stdin at end of input.
The daemon will no longer process any standard input.
Using 24 worker leases.
Starting Build
Settings evaluated using settings file '/ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/settings.gradle'.
Projects loaded. Root project using build file '/ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build.gradle'.
Included projects: [root project 'helloworldgradlepipeline']

> Configure project :
Evaluating root project 'helloworldgradlepipeline' using build file '/ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build.gradle'.
[versioning] WARNING - the working copy has unstaged or uncommitted changes.
All projects evaluated.
Selected primary task 'clean' from project :
Selected primary task 'build' from project :
Tasks to be executed: [task ':clean', task ':compileJava', task ':processResources', task ':classes', task ':jar', task ':assemble', task ':compileTestJava', task ':processTestResources', task ':testClasses', task ':test', task ':check', task ':build']
:clean (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :clean
Task ':clean' is not up-to-date because:
  Task has not declared any outputs despite executing actions.
:clean (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.085 secs.
:compileJava (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :compileJava
Task ':compileJava' is not up-to-date because:
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/classes/java/main has been removed.
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/classes/java/main/com has been removed.
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/classes/java/main/com/devops has been removed.
All input files are considered out-of-date for incremental task ':compileJava'.
Full recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.
Compiling with JDK Java compiler API.
Created classpath snapshot for incremental compilation in 0.055 secs.
:compileJava (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.808 secs.
:processResources (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :processResources
Task ':processResources' is not up-to-date because:
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/resources/main has been removed.
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/resources/main/log4j.properties has been removed.
:processResources (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.039 secs.
:classes (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :classes
Skipping task ':classes' as it has no actions.
:classes (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.001 secs.
:jar (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :jar
Task ':jar' is not up-to-date because:
  Output property 'archiveFile' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/libs/helloworldgradlepipeline-1.0.0-SNAPSHOT.jar has been removed.
:jar (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.045 secs.
:assemble (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :assemble
Skipping task ':assemble' as it has no actions.
:assemble (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.0 secs.
:compileTestJava (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :compileTestJava
Task ':compileTestJava' is not up-to-date because:
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/classes/java/test has been removed.
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/classes/java/test/com has been removed.
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/classes/java/test/com/devops has been removed.
All input files are considered out-of-date for incremental task ':compileTestJava'.
Full recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.
Compiling with JDK Java compiler API.
Created classpath snapshot for incremental compilation in 0.014 secs.
:compileTestJava (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.131 secs.
:processTestResources (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :processTestResources
Task ':processTestResources' is not up-to-date because:
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/resources/test has been removed.
  Output property 'destinationDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/resources/test/log4j.properties has been removed.
:processTestResources (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.005 secs.
:testClasses (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :testClasses
Skipping task ':testClasses' as it has no actions.
:testClasses (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.0 secs.
:test (Thread[Execution worker for ':' Thread 16,5,main]) started.
Gradle Test Executor 1 started executing tests.
Gradle Test Executor 1 finished executing tests.

> Task :test
Task ':test' is not up-to-date because:
  Output property 'binResultsDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/test-results/test/binary has been removed.
  Output property 'binResultsDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/test-results/test/binary/output.bin has been removed.
  Output property 'binResultsDir' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/test-results/test/binary/output.bin.idx has been removed.
Starting process 'Gradle Test Executor 1'. Working directory: /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline Command: /ssdprod/jenkins/sandboxNode/home/tools/hudson.model.JDK/jdk1.8.0_u144/bin/java -Djava.security.manager=worker.org.gradle.process.internal.worker.child.BootstrapSecurityManager -Dorg.gradle.native=false -Xmx512m -Dfile.encoding=UTF-8 -Duser.country=FR -Duser.language=fr -Duser.variant -ea -cp /var/lib/jenkins/.gradle/caches/5.3.1/workerMain/gradle-worker.jar worker.org.gradle.process.internal.worker.GradleWorkerMain 'Gradle Test Executor 1'
Successfully started process 'Gradle Test Executor 1'

com.devops.MyHelloTest > testRunMe STANDARD_OUT
    2019-05-13 10:54:24 DEBUG MyHello:22 - This is debug : Hello
    2019-05-13 10:54:24 INFO  MyHello:26 - This is info : Hello
    2019-05-13 10:54:24 WARN  MyHello:29 - This is warn : Hello
    2019-05-13 10:54:24 ERROR MyHello:30 - This is fake error : Hello
    2019-05-13 10:54:24 FATAL MyHello:31 - This is fake fatal : Hello
Finished generating test XML results (0.012 secs) into: /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/test-results/test
Generating HTML test report...
Finished generating test html results (0.02 secs) into: /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/reports/tests/test
:test (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.737 secs.
:check (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :check
Skipping task ':check' as it has no actions.
:check (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.0 secs.
:build (Thread[Execution worker for ':' Thread 16,5,main]) started.

> Task :build
Skipping task ':build' as it has no actions.
:build (Thread[Execution worker for ':' Thread 16,5,main]) completed. Took 0.0 secs.

BUILD SUCCESSFUL in 9s
7 actionable tasks: 7 executed
[Pipeline] sh
+ gradle uploadArchives --info
Initialized native services in: /var/lib/jenkins/.gradle/native
The client will now receive all logging from the daemon (pid: 27120). The daemon log file: /var/lib/jenkins/.gradle/daemon/5.3.1/daemon-27120.out.log
Starting 2nd build in daemon [uptime: 9.033 secs, performance: 97%, non-heap usage: 13% of 268,4 MB]
Using 24 worker leases.
Closing daemon's stdin at end of input.
The daemon will no longer process any standard input.
Starting Build
Settings evaluated using settings file '/ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/settings.gradle'.
Projects loaded. Root project using build file '/ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build.gradle'.
Included projects: [root project 'helloworldgradlepipeline']

> Configure project :
Evaluating root project 'helloworldgradlepipeline' using build file '/ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build.gradle'.
[versioning] WARNING - the working copy has unstaged or uncommitted changes.
All projects evaluated.
Selected primary task 'uploadArchives' from project :
Tasks to be executed: [task ':compileJava', task ':processResources', task ':classes', task ':jar', task ':uploadArchives']
:compileJava (Thread[Execution worker for ':',5,main]) started.

> Task :compileJava UP-TO-DATE
Skipping task ':compileJava' as it is up-to-date.
:compileJava (Thread[Execution worker for ':',5,main]) completed. Took 0.02 secs.
:processResources (Thread[Execution worker for ':',5,main]) started.

> Task :processResources UP-TO-DATE
Skipping task ':processResources' as it is up-to-date.
:processResources (Thread[Execution worker for ':',5,main]) completed. Took 0.002 secs.
:classes (Thread[Execution worker for ':',5,main]) started.

> Task :classes UP-TO-DATE
Skipping task ':classes' as it has no actions.
:classes (Thread[Execution worker for ':',5,main]) completed. Took 0.0 secs.
:jar (Thread[Execution worker for ':',5,main]) started.

> Task :jar
Task ':jar' is not up-to-date because:
  Input property 'rootSpec$2$1' file /ssdprod/jenkins/sandboxNode/home/workspace/helloworldgradlepipeline/build/tmp/jar/MANIFEST.MF has changed.
:jar (Thread[Execution worker for ':',5,main]) completed. Took 0.01 secs.
:uploadArchives (Thread[Execution worker for ':',5,main]) started.

> Task :uploadArchives
Task ':uploadArchives' is not up-to-date because:
  Task has not declared any outputs despite executing actions.
Publishing configuration: configuration ':archives'
Publishing to org.gradle.api.publication.maven.internal.deployer.DefaultGroovyMavenDeployer@4cd43d0c
Deploying to http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Downloading: com/devops/helloworldgradlepipeline/1.0.0-SNAPSHOT/maven-metadata.xml from repository remote at http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Transferring 1K from remote
Uploading: com/devops/helloworldgradlepipeline/1.0.0-SNAPSHOT/helloworldgradlepipeline-1.0.0-20190513.085427-7.jar to repository remote at http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Transferring 2K from remote
Uploaded 2K
Uploading: com/devops/helloworldgradlepipeline/1.0.0-SNAPSHOT/helloworldgradlepipeline-1.0.0-20190513.085427-7.pom to repository remote at http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Transferring 1K from remote
Uploaded 1K
Downloading: com/devops/helloworldgradlepipeline/maven-metadata.xml from repository remote at http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Transferring 0K from remote
Uploading: com/devops/helloworldgradlepipeline/1.0.0-SNAPSHOT/maven-metadata.xml to repository remote at http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Transferring 1K from remote
Uploaded 1K
Uploading: com/devops/helloworldgradlepipeline/maven-metadata.xml to repository remote at http://7kwdf02/nexus/content/repositories/repoIndustrialisationSnapshot/
Transferring 0K from remote
Uploaded 0K
:uploadArchives (Thread[Execution worker for ':',5,main]) completed. Took 1.138 secs.

BUILD SUCCESSFUL in 2s
4 actionable tasks: 2 executed, 2 up-to-date
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS